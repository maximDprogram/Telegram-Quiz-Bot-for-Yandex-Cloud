# Telegram Quiz Bot for Yandex Cloud

**–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Yandex Cloud Functions. –ü—Ä–æ–≤–æ–¥–∏—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–≤–∏–∑, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—á–∫–∏ –≤ Yandex Database (YDB). –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∫–≤–∏–∑–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ Yandex Object Storage.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –í–æ–ø—Ä–æ—Å—ã –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ YDB.
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å –∏ –Ω–∞–±—Ä–∞–Ω–Ω—ã–µ –æ—á–∫–∏.
- –ü–æ–¥—Å—á–µ—Ç –æ—á–∫–æ–≤ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞—Ç—å –∫–≤–∏–∑ –∑–∞–Ω–æ–≤–æ (–æ–±–Ω—É–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å).
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º –∫–≤–∏–∑–∞.
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ aiogram v3 –∏ Yandex Cloud Functions.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```

Telegram-Quiz-Bot-for-Yandex-Cloud/
‚îÇ
‚îú‚îÄ‚îÄ service.py
‚îú‚îÄ‚îÄ tb_webhook.py
‚îú‚îÄ‚îÄ database.py
‚îú‚îÄ‚îÄ handlers.py
‚îî‚îÄ‚îÄ requirements.txt

```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+
- aiogram v3.x
- Yandex Cloud Functions
- Yandex Database (YDB)
- Yandex Object Storage

---

## üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YDB

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤:

```

CREATE TABLE quiz_questions (
    question_id Uint64,
    question String,
    options Json,
    correct_option Uint64,
    PRIMARY KEY (question_id)
);

```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```

CREATE TABLE quiz_state (
    user_id Uint64,
    question_index Uint64,
    score Uint64,
    PRIMARY KEY (user_id)
);

```

3. –î–æ–±–∞–≤–ª—è–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –≤ quiz_questions —á–µ—Ä–µ–∑ UPSERT:

```

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    0,
    '–ß—Ç–æ —Ç–∞–∫–æ–µ Python?',
    '["–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è", "–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö", "–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç", "–ó–º–µ—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    1,
    '–ö–∞–∫–æ–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª?',
    '["int", "float", "str", "natural"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    2,
    '–ö–∞–∫ –æ–±—ä—è–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤ Python?',
    '["[]", "()", "{}", "<>"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    3,
    '–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è print()?',
    '["–í—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω", "–ß–∏—Ç–∞–µ—Ç –≤–≤–æ–¥", "–£–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª", "–°–æ–∑–¥–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    4,
    '–ö–∞–∫–æ–π —Ü–∏–∫–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π?',
    '["for", "while", "do-while", "loop"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    5,
    '–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è len()?',
    '["–î–ª–∏–Ω–∞ –æ–±—ä–µ–∫—Ç–∞", "–¢–∏–ø –æ–±—ä–µ–∫—Ç–∞", "–ó–Ω–∞—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞", "–ò–Ω–¥–µ–∫—Å –æ–±—ä–µ–∫—Ç–∞"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    6,
    '–ö–∞–∫ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å –≤ Python?',
    '["import module", "include module", "require module", "load module"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    7,
    '–ß—Ç–æ —Ç–∞–∫–æ–µ tuple –≤ Python?',
    '["–ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫", "–ò–∑–º–µ–Ω—è–µ–º—ã–π —Å–ø–∏—Å–æ–∫", "–°–ª–æ–≤–∞—Ä—å", "–ú–Ω–æ–∂–µ—Å—Ç–≤–æ"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    8,
    '–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π?',
    '["type()", "typeof()", "class()", "kind()"]',
    0
);

UPSERT INTO quiz_questions (question_id, question, options, correct_option)
VALUES (
    9,
    '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ def?',
    '["–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏", "–û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π", "–¶–∏–∫–ª", "–£—Å–ª–æ–≤–∏–µ"]',
    0
);

```

---

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –≤ Yandex Cloud

* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Yandex Cloud Functions –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook –æ—Ç Telegram.

* –ö–æ–¥ –±–æ—Ç–∞ –¥–µ–ø–ª–æ–∏—Ç—Å—è –≤ ZIP-–∞—Ä—Ö–∏–≤–µ —á–µ—Ä–µ–∑ –≤–µ—Ä—Å–∏—é —Ñ—É–Ω–∫—Ü–∏–∏.

* –°–æ–∑–¥–∞—ë—Ç—Å—è HTTP-—Ç—Ä–∏–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å Telegram webhook, —á—Ç–æ–±—ã –±–æ—Ç –ø–æ–ª—É—á–∞–ª —Å–æ–æ–±—â–µ–Ω–∏—è.

* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API_TOKEN, YDB_ENDPOINT, YDB_DATABASE, image_url) –∑–∞–¥–∞—é—Ç—Å—è –ø—Ä–∏ –¥–µ–ø–ª–æ–µ —Ñ—É–Ω–∫—Ü–∏–∏.

* –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ YDB, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ Telegram –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –ø–æ–∑–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –∫–≤–∏–∑ —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ –æ—á–∫–∞–º–∏.

---

## üåü –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

* –ü–æ–ª–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—á–∫–æ–≤.

* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä—è—Ç—å –∫–≤–∏–∑ —á–µ—Ä–µ–∑ YDB –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫ —á–µ—Ä–µ–∑ Object Storage.

* –õ–µ–≥–∫–∏–π –¥–µ–ø–ª–æ–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Yandex Cloud.

---

